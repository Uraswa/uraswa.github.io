import{Q as d}from"./QInput-ChrffT-T.js";import{Q as g}from"./QBtn-B-GJa1GX.js";import{A as f,Q as _}from"./Api-DdIO7rHx.js";import{C as b}from"./CenteredFormPage-5-bxJRux.js";import{_ as y,k as F,l,m as s,q as m,f as r,A as P,n as c,u as a,F as k,p as i,t as C}from"./index-cgLPpV2s.js";import"./vm-CqGj_DD0.js";import"./render-CaZ87jts.js";import"./QSpinner-Bv1sampE.js";import"./uid-Bzmka5Fh.js";import"./use-dark-CyN1B-s9.js";import"./focus-manager-BJWzFvJg.js";import"./private.use-form-BojlAJrN.js";import"./use-router-link-BRJrr1cX.js";import"./index-B9ygI19o.js";import"./QPage-yTJLfUB9.js";const V={name:"ForgotPasswordPage",components:{CenteredFormPage:b},data:function(){return{email:"",err:"",is_loading:!1}},methods:{async onSubmit(){this.is_loading=!0;let e=await f.post("/api/users/forgotPassword",{email:this.email});e.status===200&&e.data.success?this.$router.push("/mail-sent"):this.err=e.data.error,this.is_loading=!1}}},w={class:"text-red"},Q={style:{"margin-top":"10px"}};function B(e,t,S,x,N,p){const n=m("RouterLink"),u=m("CenteredFormPage");return l(),F(u,null,{default:s(()=>[r(_,{style:{"min-width":"320px"},onSubmit:p.onSubmit,class:"q-gutter-md"},{default:s(()=>[r(d,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=o=>e.email=o),label:"Email",rules:[o=>!!o||"Введите email",o=>o.length<256||"Email слишком длинный"]},null,8,["modelValue","rules"]),e.err?(l(),P(k,{key:0},[a("span",w,C(e.err),1),t[1]||(t[1]=i()),t[2]||(t[2]=a("br",null,null,-1))],64)):c("",!0),r(g,{loading:e.is_loading,style:{"margin-top":"10px"},label:"Восстановить",type:"submit",color:"primary"},null,8,["loading"]),a("p",Q,[r(n,{to:"/registration"},{default:s(()=>[...t[3]||(t[3]=[i("Регистрация",-1)])]),_:1})]),a("p",null,[r(n,{to:"/login"},{default:s(()=>[...t[4]||(t[4]=[i("Войти",-1)])]),_:1})])]),_:1},8,["onSubmit"])]),_:1})}const H=y(V,[["render",B]]);export{H as default};
