import{a as $,b as J,Q as x}from"./QItem-BHmsrxJV.js";import{Q as Y}from"./vm-CHOWyN6_.js";import{Q as De}from"./QList-Bpvqln9G.js";import{T as Z,Q as Oe}from"./QScrollArea-XcqvNSdy.js";import{u as Qe,a as $e,c as Me,d as We,b as M,e as Ae}from"./use-prevent-scroll-DkmFkxC1.js";import{u as Ie}from"./use-timeout-C3AFBMnc.js";import{u as Pe,a as Ve}from"./use-dark-Dv7WjADU.js";import{x as ze,g as Fe,a as He,L as ee,r as q,c as u,w as s,o as Ne,a3 as de,D as Re,G as V,h as W,a5 as Ue,_ as je,k as A,l as I,m as r,q as Ee,f as n,p as P}from"./index-XG3ruBr1.js";import{c as fe,b as Ge}from"./render-CGS6HGWU.js";import{Q as Ke,a as Xe}from"./QLayout-BlGNXFE_.js";import{R as te}from"./use-router-link-BvR_uW70.js";import"./QResizeObserver-BZfz2Q_P.js";import"./QScrollObserver-D2xxlQK0.js";import"./scroll-BtUtXmU5.js";import"./touch-BjYP5sR0.js";import"./selection-DqboTHfK.js";const ve=150,Je=ze({name:"QDrawer",inheritAttrs:!1,props:{...$e,...Pe,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Qe,"onLayout","miniState"],setup(t,{slots:d,emit:b,attrs:z}){const w=Fe(),{proxy:{$q:m}}=w,F=Ve(t,m),{preventBodyScroll:B}=Ae(),{registerTimeout:ae,removeTimeout:ce}=Ie(),a=He(Ue,ee);if(a===ee)return console.error("QDrawer needs to be child of QLayout"),ee;let H,k=null,L;const i=q(t.behavior==="mobile"||t.behavior!=="desktop"&&a.totalWidth.value<=t.breakpoint),S=u(()=>t.mini===!0&&i.value!==!0),v=u(()=>S.value===!0?t.miniWidth:t.width),o=q(t.showIfAbove===!0&&i.value===!1?!0:t.modelValue===!0),le=u(()=>t.persistent!==!0&&(i.value===!0||be.value===!0));function oe(e,l){if(me(),e!==!1&&a.animate(),c(0),i.value===!0){const f=a.instances[O.value];f?.belowBreakpoint===!0&&f.hide(!1),y(1),a.isContainer.value!==!0&&B(!0)}else y(0),e!==!1&&G(!1);ae(()=>{e!==!1&&G(!0),l!==!0&&b("show",e)},ve)}function ue(e,l){he(),e!==!1&&a.animate(),y(0),c(_.value*v.value),K(),l!==!0?ae(()=>{b("hide",e)},ve):ce()}const{show:N,hide:C}=Me({showing:o,hideOnRouteChange:le,handleShow:oe,handleHide:ue}),{addToHistory:me,removeFromHistory:he}=We(o,C,le),D={belowBreakpoint:i,hide:C},h=u(()=>t.side==="right"),_=u(()=>(m.lang.rtl===!0?-1:1)*(h.value===!0?1:-1)),re=q(0),p=q(!1),R=q(!1),ne=q(v.value*_.value),O=u(()=>h.value===!0?"left":"right"),U=u(()=>o.value===!0&&i.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:v.value:0),j=u(()=>t.overlay===!0||t.miniToOverlay===!0||a.view.value.indexOf(h.value?"R":"L")!==-1||m.platform.is.ios===!0&&a.isContainer.value===!0),T=u(()=>t.overlay===!1&&o.value===!0&&i.value===!1),be=u(()=>t.overlay===!0&&o.value===!0&&i.value===!1),we=u(()=>"fullscreen q-drawer__backdrop"+(o.value===!1&&p.value===!1?" hidden":"")),ye=u(()=>({backgroundColor:`rgba(0,0,0,${re.value*.4})`})),ie=u(()=>h.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),ge=u(()=>h.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),ke=u(()=>{const e={};return a.header.space===!0&&ie.value===!1&&(j.value===!0?e.top=`${a.header.offset}px`:a.header.space===!0&&(e.top=`${a.header.size}px`)),a.footer.space===!0&&ge.value===!1&&(j.value===!0?e.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(e.bottom=`${a.footer.size}px`)),e}),_e=u(()=>{const e={width:`${v.value}px`,transform:`translateX(${ne.value}px)`};return i.value===!0?e:Object.assign(e,ke.value)}),pe=u(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),xe=u(()=>`q-drawer q-drawer--${t.side}`+(R.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(F.value===!0?" q-drawer--dark q-dark":"")+(p.value===!0?" no-transition":o.value===!0?"":" q-layout--prevent-focus")+(i.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${S.value===!0?"mini":"standard"}`+(j.value===!0||T.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(ie.value===!0?" q-drawer--top-padding":""))),qe=u(()=>{const e=m.lang.rtl===!0?t.side:O.value;return[[Z,Te,void 0,{[e]:!0,mouse:!0}]]}),Be=u(()=>{const e=m.lang.rtl===!0?O.value:t.side;return[[Z,se,void 0,{[e]:!0,mouse:!0}]]}),Se=u(()=>{const e=m.lang.rtl===!0?O.value:t.side;return[[Z,se,void 0,{[e]:!0,mouse:!0,mouseAllDir:!0}]]});function E(){Le(i,t.behavior==="mobile"||t.behavior!=="desktop"&&a.totalWidth.value<=t.breakpoint)}s(i,e=>{e===!0?(H=o.value,o.value===!0&&C(!1)):t.overlay===!1&&t.behavior!=="mobile"&&H!==!1&&(o.value===!0?(c(0),y(0),K()):N(!1))}),s(()=>t.side,(e,l)=>{a.instances[l]===D&&(a.instances[l]=void 0,a[l].space=!1,a[l].offset=0),a.instances[e]=D,a[e].size=v.value,a[e].space=T.value,a[e].offset=U.value}),s(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&E()}),s(()=>t.behavior+t.breakpoint,E),s(a.isContainer,e=>{o.value===!0&&B(e!==!0),e===!0&&E()}),s(a.scrollbarWidth,()=>{c(o.value===!0?0:void 0)}),s(U,e=>{g("offset",e)}),s(T,e=>{b("onLayout",e),g("space",e)}),s(h,()=>{c()}),s(v,e=>{c(),X(t.miniToOverlay,e)}),s(()=>t.miniToOverlay,e=>{X(e,v.value)}),s(()=>m.lang.rtl,()=>{c()}),s(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(Ce(),a.animate())}),s(S,e=>{b("miniState",e)});function c(e){e===void 0?de(()=>{e=o.value===!0?0:v.value,c(_.value*e)}):(a.isContainer.value===!0&&h.value===!0&&(i.value===!0||Math.abs(e)===v.value)&&(e+=_.value*a.scrollbarWidth.value),ne.value=e)}function y(e){re.value=e}function G(e){const l=e===!0?"remove":a.isContainer.value!==!0?"add":"";l!==""&&document.body.classList[l]("q-body--drawer-toggle")}function Ce(){k!==null&&clearTimeout(k),w.proxy&&w.proxy.$el&&w.proxy.$el.classList.add("q-drawer--mini-animate"),R.value=!0,k=setTimeout(()=>{k=null,R.value=!1,w?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function Te(e){if(o.value!==!1)return;const l=v.value,f=M(e.distance.x,0,l);if(e.isFinal===!0){f>=Math.min(75,l)===!0?N():(a.animate(),y(0),c(_.value*l)),p.value=!1;return}c((m.lang.rtl===!0?h.value!==!0:h.value)?Math.max(l-f,0):Math.min(0,f-l)),y(M(f/l,0,1)),e.isFirst===!0&&(p.value=!0)}function se(e){if(o.value!==!0)return;const l=v.value,f=e.direction===t.side,Q=(m.lang.rtl===!0?f!==!0:f)?M(e.distance.x,0,l):0;if(e.isFinal===!0){Math.abs(Q)<Math.min(75,l)===!0?(a.animate(),y(1),c(0)):C(),p.value=!1;return}c(_.value*Q),y(M(1-Q/l,0,1)),e.isFirst===!0&&(p.value=!0)}function K(){B(!1),G(!0)}function g(e,l){a.update(t.side,e,l)}function Le(e,l){e.value!==l&&(e.value=l)}function X(e,l){g("size",e===!0?t.miniWidth:l)}return a.instances[t.side]=D,X(t.miniToOverlay,v.value),g("space",T.value),g("offset",U.value),t.showIfAbove===!0&&t.modelValue!==!0&&o.value===!0&&t["onUpdate:modelValue"]!==void 0&&b("update:modelValue",!0),Ne(()=>{b("onLayout",T.value),b("miniState",S.value),H=t.showIfAbove===!0;const e=()=>{(o.value===!0?oe:ue)(!1,!0)};if(a.totalWidth.value!==0){de(e);return}L=s(a.totalWidth,()=>{L(),L=void 0,o.value===!1&&t.showIfAbove===!0&&i.value===!1?N(!1):e()})}),Re(()=>{L?.(),k!==null&&(clearTimeout(k),k=null),o.value===!0&&K(),a.instances[t.side]===D&&(a.instances[t.side]=void 0,g("size",0),g("offset",0),g("space",!1))}),()=>{const e=[];i.value===!0&&(t.noSwipeOpen===!1&&e.push(V(W("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),qe.value)),e.push(fe("div",{ref:"backdrop",class:we.value,style:ye.value,"aria-hidden":"true",onClick:C},void 0,"backdrop",t.noSwipeBackdrop!==!0&&o.value===!0,()=>Se.value)));const l=S.value===!0&&d.mini!==void 0,f=[W("div",{...z,key:""+l,class:[pe.value,z.class]},l===!0?d.mini():Ge(d.default))];return t.elevated===!0&&o.value===!0&&f.push(W("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(fe("aside",{ref:"content",class:xe.value,style:_e.value},f,"contentclose",t.noSwipeClose!==!0&&i.value===!0,()=>Be.value)),W("div",{class:"q-drawer-container"},e)}}}),Ye={name:"LkSellerLayout",data(){return{leftDrawerOpen:!0}}};function Ze(t,d,b,z,w,m){const F=Ee("router-view");return I(),A(Ke,{view:"lHh Lpr lFf"},{default:r(()=>[n(Je,{modelValue:w.leftDrawerOpen,"onUpdate:modelValue":d[0]||(d[0]=B=>w.leftDrawerOpen=B),side:"left",bordered:"",width:280},{default:r(()=>[n(Oe,{class:"fit"},{default:r(()=>[n(De,{padding:""},{default:r(()=>[n($,{header:"",class:"text-weight-bold"},{default:r(()=>[...d[1]||(d[1]=[P(" Панель продавца ",-1)])]),_:1}),V((I(),A(J,{clickable:"",to:"/seller/products"},{default:r(()=>[n(x,{avatar:""},{default:r(()=>[n(Y,{name:"inventory_2"})]),_:1}),n(x,null,{default:r(()=>[n($,null,{default:r(()=>[...d[2]||(d[2]=[P("Товары",-1)])]),_:1})]),_:1})]),_:1})),[[te]]),V((I(),A(J,{clickable:"",to:"/seller/orders"},{default:r(()=>[n(x,{avatar:""},{default:r(()=>[n(Y,{name:"shopping_cart"})]),_:1}),n(x,null,{default:r(()=>[n($,null,{default:r(()=>[...d[3]||(d[3]=[P("Заказы",-1)])]),_:1})]),_:1})]),_:1})),[[te]]),V((I(),A(J,{clickable:"",to:"/seller/shop"},{default:r(()=>[n(x,{avatar:""},{default:r(()=>[n(Y,{name:"store"})]),_:1}),n(x,null,{default:r(()=>[n($,null,{default:r(()=>[...d[4]||(d[4]=[P("Магазин",-1)])]),_:1})]),_:1})]),_:1})),[[te]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(Xe,null,{default:r(()=>[n(F)]),_:1})]),_:1})}const wt=je(Ye,[["render",Ze]]);export{wt as default};
