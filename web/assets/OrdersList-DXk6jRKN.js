import{Q as b}from"./vm-CqGj_DD0.js";import{Q as v}from"./QInput-ChrffT-T.js";import{Q as u}from"./QSelect-CqPTWxjZ.js";import{Q as m}from"./QBtn-B-GJa1GX.js";import{Q as g,a as _}from"./QCard-D-J3qaMm.js";import{Q as w}from"./QImg-BRmRM1SI.js";import{Q as x,a as i}from"./QTable-BY3qdkEp.js";import{Q as y}from"./QBadge-CsqcqbFA.js";import{_ as Q,A as p,l as d,u as o,f as e,m as s,t as n,n as k,F as z,B as q,k as V}from"./index-cgLPpV2s.js";import"./render-CaZ87jts.js";import"./QSpinner-Bv1sampE.js";import"./uid-Bzmka5Fh.js";import"./use-dark-CyN1B-s9.js";import"./focus-manager-BJWzFvJg.js";import"./private.use-form-BojlAJrN.js";import"./use-router-link-BRJrr1cX.js";import"./QItem-lZ05shjW.js";import"./selection-DDYZU4ha.js";import"./use-prevent-scroll-vdTicmzI.js";import"./scroll-CgAzhUCY.js";import"./QDialog-B2OPuii8.js";import"./use-timeout-CUW7o2oj.js";import"./use-tick-BaHwpJIw.js";import"./rtl-DFPa-2ov.js";import"./QSeparator-SiojuJyN.js";import"./QList-BjAbVhW2.js";import"./QLinearProgress-DbwVCyHR.js";import"./QCheckbox-DzJiOYgn.js";import"./use-fullscreen-Dq5Q9KTm.js";const S={name:"SellerOrdersPage",data(){return{searchQuery:"",statusFilter:null,pvzFilter:null,loading:!1,statusOptions:["packing","shipping","waiting","done","canceled"],pvzOptions:["ПВЗ Уинская","ПВЗ Ленина","ПВЗ Попова"],columns:[{name:"id",label:"Номер заказа",field:"id",align:"left",sortable:!0},{name:"products",label:"Товары",field:"products",align:"left",sortable:!1},{name:"total",label:"Сумма",field:"total",align:"right",sortable:!0},{name:"status",label:"Статус",field:"status",align:"center",sortable:!0},{name:"pvz",label:"Пункт выдачи",field:"pvz",align:"left",sortable:!0},{name:"createdDate",label:"Дата создания",field:"createdDate",align:"center",sortable:!0},{name:"actions",label:"Действия",field:"actions",align:"center",sortable:!1}],orders:[{id:"123456",total:4300,status:"packing",createdDate:"15.12.2024",pvz:{address:"г. Пермь, ул. Уинская, 12",workingHours:"09:00-21:00"},products:[{photo:"https://cdn.quasar.dev/img/parallax2.jpg"},{photo:"https://cdn.quasar.dev/img/parallax1.jpg"},{photo:"https://cdn.quasar.dev/img/mountains.jpg"}]},{id:"123455",total:2800,status:"shipping",createdDate:"10.12.2024",pvz:{address:"г. Пермь, ул. Ленина, 45",workingHours:"10:00-20:00"},products:[{photo:"https://cdn.quasar.dev/img/parallax2.jpg"},{photo:"https://cdn.quasar.dev/img/mountains.jpg"}]},{id:"123454",total:5200,status:"waiting",createdDate:"01.12.2024",pvz:{address:"г. Пермь, ул. Попова, 23",workingHours:"08:00-22:00"},products:[{photo:"https://cdn.quasar.dev/img/parallax2.jpg"},{photo:"https://cdn.quasar.dev/img/parallax1.jpg"}]}]}},methods:{getStatusColor(a){return{packing:"orange",shipping:"blue",waiting:"yellow",done:"green",canceled:"red"}[a]||"grey"},getStatusText(a){return{packing:"Упаковывается",shipping:"В пути",waiting:"Ожидает в ПВЗ",done:"Доставлен",canceled:"Отменен"}[a]||"Неизвестно"},updateStatus(a,l){a.status=l}}},j={class:"row items-center q-col-gutter-md"},F={class:"col-3"},B={class:"col-3"},C={class:"col-3"},D={class:"col-3"},O={class:"row q-gutter-xs"},H={key:0,class:"flex flex-center bg-grey-3 rounded-borders",style:{width:"40px",height:"40px"}},T={class:"text-caption text-grey-7"},I={class:"text-weight-bold text-primary"},N={class:"text-caption"},U={class:"text-caption text-grey-7"},L={class:"row q-gutter-xs"};function A(a,l,E,P,r,c){return d(),p("div",null,[l[3]||(l[3]=o("div",{class:"row items-center justify-between q-mb-lg"},[o("div",null,[o("div",{class:"text-h4 text-weight-bold"},"Заказы"),o("div",{class:"text-caption text-grey-7"},"Управление заказами вашего магазина")])],-1)),e(g,{flat:"",bordered:"",class:"q-mb-lg"},{default:s(()=>[e(_,null,{default:s(()=>[o("div",j,[o("div",F,[e(v,{modelValue:r.searchQuery,"onUpdate:modelValue":l[0]||(l[0]=t=>r.searchQuery=t),placeholder:"Поиск по номеру заказа...",dense:"",outlined:"",clearable:""},{append:s(()=>[e(b,{name:"search"})]),_:1},8,["modelValue"])]),o("div",B,[e(u,{modelValue:r.statusFilter,"onUpdate:modelValue":l[1]||(l[1]=t=>r.statusFilter=t),options:r.statusOptions,label:"Статус заказа",dense:"",outlined:"",clearable:""},null,8,["modelValue","options"])]),o("div",C,[e(u,{modelValue:r.pvzFilter,"onUpdate:modelValue":l[2]||(l[2]=t=>r.pvzFilter=t),options:r.pvzOptions,label:"ПВЗ",dense:"",outlined:"",clearable:""},null,8,["modelValue","options"])]),o("div",D,[e(m,{label:"Применить фильтры",color:"primary",class:"full-width",unelevated:""})])])]),_:1})]),_:1}),e(g,{flat:"",bordered:""},{default:s(()=>[e(x,{rows:r.orders,columns:r.columns,"row-key":"id",loading:r.loading,filter:r.searchQuery,flat:"",bordered:""},{"body-cell-products":s(t=>[e(i,{props:t},{default:s(()=>[o("div",O,[(d(!0),p(z,null,q(t.row.products,(f,h)=>(d(),V(w,{key:h,src:f.photo,width:"40px",height:"40px",class:"rounded-borders"},null,8,["src"]))),128)),t.row.products.length>3?(d(),p("div",H,[o("div",T,"+"+n(t.row.products.length-3),1)])):k("",!0)])]),_:2},1032,["props"])]),"body-cell-status":s(t=>[e(i,{props:t},{default:s(()=>[e(y,{color:c.getStatusColor(t.row.status),label:c.getStatusText(t.row.status)},null,8,["color","label"])]),_:2},1032,["props"])]),"body-cell-total":s(t=>[e(i,{props:t},{default:s(()=>[o("div",I,n(t.row.total)+"₽",1)]),_:2},1032,["props"])]),"body-cell-pvz":s(t=>[e(i,{props:t},{default:s(()=>[o("div",N,n(t.row.pvz.address),1),o("div",U,n(t.row.pvz.workingHours),1)]),_:2},1032,["props"])]),"body-cell-actions":s(t=>[e(i,{props:t},{default:s(()=>[o("div",L,[e(m,{icon:"visibility",size:"sm",color:"blue",dense:"",flat:"",to:`/seller/orders/${t.row.id}`},null,8,["to"])])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading","filter"])]),_:1})])}const _t=Q(S,[["render",A]]);export{_t as default};
